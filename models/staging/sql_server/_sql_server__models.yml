version: 2

models:
  - name: stg_sql_server__addresses
    description: "Table containing address data."
    columns:
      - name: address_id
        description: "ID for each unique address."
        data_type: text
        tests:
          - not_null
          - unique
      - name: zipcode
        description: "Zipcode of each address."
        data_type: number
      - name: country
        description: "Country of each address."
        data_type: text
      - name: address
        description: "Description of address_id."
        data_type: text
      - name: state
        description: "State of each address."
        data_type: text
      - name: _fivetran_deleted
        description: "Date that the data was deleted."
        data_type: TIMESTAMP_TZ
      - name: _fivetran_synced
        description: "Date that the data was loaded."
        data_type: TIMESTAMP_TZ

  - name: stg_sql_server__events
    description: "Table containing event data."
    columns:
      - name: event_id
        description: "ID for each unique event."
        data_type: text
        tests:
          - not_null
          - unique
      - name: page_url
        description: "Url associated to an event in the website of the platform."
        data_type: text
      - name: event_type
        description: "Types of events."
        data_type: text
      - name: user_id
        description: "ID for each user on platform."
        data_type: text
      - name: product_id
        description: "ID for each product on platform."
        data_type: text
      - name: session_id
        description: "ID for each session on platform."
        data_type: text
      - name: created_at
        description: "Date of creation."
        data_type: TIMESTAMP_TZ
      - name: order_id
        description: "ID for each order on platform."
        data_type: text
      - name: _fivetran_deleted
        description: "Date that the data was deleted."
        data_type: TIMESTAMP_TZ
      - name: _fivetran_synced
        description: "Date that the data was loaded."
        data_type: TIMESTAMP_TZ

  - name: stg_sql_server__orders
    description: "Table containing order data."
    columns:
      - name: order_id
        description: "ID for each unique order."
        data_type: text
        tests:
          - not_null
          - unique
      - name: shipping_service
        description: "Name of the shipping service."
        data_type: text
      - name: shipping_cost
        description: "Cost of the shipping service."
        data_type: float
      - name: address_id
        description: "ID for each unique address."
        data_type: text
      - name: promo_id
        description: "ID for each unique promo."
        data_type: text
      - name: estimated_delivery_at
        description: "Estimated product delivery date."
        data_type: TIMESTAMP_TZ
      - name: order_cost
        description: "Cost of each order."
        data_type: text
      - name: user_id
        description: "ID for each unique user."
        data_type: text
      - name: order_total
        description: "Total cost of the order."
        data_type: text
      - name: delivered_at
        description: "Product delivery date."
        data_type: TIMESTAMP_TZ
      - name: tracking_id
        description: "ID for tracking each order."
        data_type: text
      - name: status
        description: "Status of each order."
        data_type: text
      - name: _fivetran_deleted
        description: "Date that the data was deleted."
        data_type: TIMESTAMP_TZ
      - name: _fivetran_synced
        description: "Date that the data was loaded."
        data_type: TIMESTAMP_TZ

  - name: stg_sql_server__order_items
    description: "Table containing order items data."
    columns:
      - name: order_id
        description: "ID for each unique order."
        data_type: text
      - name: product_id
        description: "ID for each unique product."
        data_type: text
      - name: quantity
        description: "Quantity of a product in a certain order."
        data_type: text
      - name: _fivetran_deleted
        description: "Date that the data was deleted."
        data_type: TIMESTAMP_TZ
      - name: _fivetran_synced
        description: "Date that the data was loaded."
        data_type: TIMESTAMP_TZ

  - name: stg_sql_server__promos
    description: "Table containing promo data."
    columns:
      - name: promo_id
        description: "ID for each unique promo."
        data_type: text
        tests:
          - not_null
          - unique
      - name: discount
        description: "Discount applicable."
        data_type: number
      - name: status
        description: "Status of the promo."
        data_type: number
      - name: _fivetran_deleted
        description: "Date that the data was deleted."
        data_type: TIMESTAMP_TZ
      - name: _fivetran_synced
        description: "Date that the data was loaded."
        data_type: TIMESTAMP_TZ

  - name: stg_sql_server__products
    description: "Table containing product data."
    columns:
      - name: product_id
        description: "ID for each unique product on platform."
        data_type: text
        tests:
          - not_null
          - unique
      - name: name
        description: "Name of the product."
        data_type: text
      - name: price
        description: "Price of the product."
        data_type: float
      - name: inventory
        description: "Amount of the inventory we have for this product."
        data_type: number
      - name: _fivetran_deleted
        description: "Date that the data was deleted."
        data_type: TIMESTAMP_TZ
      - name: _fivetran_synced
        description: "Date that the data was loaded."
        data_type: TIMESTAMP_TZ

  - name: stg_sql_server__users
    description: "Table containing user data."
    columns:
      - name: user_id
        description: "ID for each user on platform."
        data_type: text
        tests:
          - not_null
          - unique
      - name: updated_at
        description: "Date of last update."
        data_type: TIMESTAMP_TZ
      - name: address_id
        description: "ID for each unique address."
        data_type: text
      - name: last_name
        description: "Last name of each user."
        data_type: text
      - name: created_at
        description: "Date of creation."
        data_type: TIMESTAMP_TZ
      - name: phone_number
        description: "Phone number of each user."
        data_type: text
      - name: total_orders
        description: "Total orders of each user."
        data_type: number
      - name: first_name
        description: "First name of each user."
        data_type: text
      - name: email
        description: "Email of each user."
        data_type: text
      - name: _fivetran_deleted
        description: "Date that the data was deleted."
        data_type: TIMESTAMP_TZ
      - name: _fivetran_synced
        description: "Date that the data was loaded."
        data_type: TIMESTAMP_TZ
